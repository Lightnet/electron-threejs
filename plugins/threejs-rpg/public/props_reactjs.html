<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>My first Three.js app</title>
		<link rel="stylesheet" href="css/index.css">
		<style>
			* {
				color: blue;
			}
			body { margin: 0px; width: 100%; height: 100%;border: 0;overflow: hidden;}
			canvas { top:0px;left:0px; width: 100%; height: 100%;margin: 0px; }
			#objectprops {position: absolute; color:white;top:0px;left:0px; margin: 0px; }
		</style>
		<script src="lodash.min.js"></script>
		<script src="jquery.min.js"></script>
		<script src="react.js"></script>
		<script src="react-dom.js"></script>
		<script src="js/three.min.js"></script>


		<script>
		</script>
	</head>
	<body>
		<!--
		<input id="obj_position_x" type="text" name="positionx" />

		-->
		<script src="threejsscene.js"></script>
		<div id="objectprops">
			<div id="uuid"></div>
			<div id="visible"></div>
			<div id="name"></div>
			<div id="posx"></div>
			<div id="posy"></div>
			<div id="posz"></div>

			<div id="props"></div>
		</div>


		<script>

		var MyLabel = React.createClass({
		  render: function() {
		    return React.createElement("label", {className: "label"},
		      React.createElement("span", {className: "label"}, this.props.label),
		      this.props.children
		    );
		  }
		});

		/*

		*/


var _ReactBoolean = React.createClass({
	propType:{
		value: React.PropTypes.object.isRequired
	},
	getInitialState: function() {
		return {
    		value: _.get(this.props.obj, this.props.params) //set variable
  		}
	},
	handleChange: function(event) {
  		this.setState({
    		value: event.target.checked
  		});
		//console.log(event.target.value);
		//console.log(event.target.checked);
		_.set(this.props.obj, this.props.params, event.target.checked);
		//RefreshContent();//update real time when keyboard is press
	},
	render: function() {
		return React.createElement("input", {
												type: "checkbox",
												onChange:this.handleChange,
												checked :this.state.value
											});
	}
});
var _ReactInput = React.createClass({
	propType:{
		value: React.PropTypes.object.isRequired
	},
	getInitialState: function() {
		return {
    		value: _.get(this.props.obj, this.props.params) //set variable
  		}
	},
	onNameInput:function(syntheticEvent) {
		//console.log(syntheticEvent);
		//console.log(this.props);
		//console.log(syntheticEvent.target.value);
		//console.log(syntheticEvent.type);
		_.set(this.props.obj, this.props.params, syntheticEvent.target.value);
		console.log(this.props.obj);
	},
	handleChange: function(event) {
  		this.setState({
    		value: event.target.value
  		});
		//RefreshContent();//update real time when keyboard is press
	},
	render: function() {
		return React.createElement("input", {
												type: "text",
												onInput:this.onNameInput,
												onChange:this.handleChange,
												value:this.state.value
											});
	}
});

var _ReactLabel = React.createClass({
	propType:{
		value: React.PropTypes.object.isRequired
	},
	getInitialState: function() {
		return {
    		value: _.get(this.props.obj, this.props.params) //set variable
  		}
	},
	handleChange: function(event) {
  		this.setState({
    		value: event.target.value
  		});
		//RefreshContent();//update real time when keyboard is press
	},
	render: function() {
		return React.createElement("label", {},this.state.value);
	}
});
		//ReactDOM.render(React.createElement(App,{obj:cube,params:'name'}), document.getElementById('objectprops'));
		ReactDOM.render(React.createElement(_ReactLabel,{obj:cube,params:'uuid'}), document.getElementById('uuid'));
		ReactDOM.render(React.createElement(_ReactBoolean,{obj:cube,params:'visible'}), document.getElementById('visible'));
		ReactDOM.render(React.createElement(_ReactInput,{obj:cube,params:'name'}), document.getElementById('name'));


		ReactDOM.render(React.createElement(_ReactInput,{obj:cube,params:'position.x'}), document.getElementById('posx'));
		ReactDOM.render(React.createElement(_ReactInput,{obj:cube,params:'position.y'}), document.getElementById('posy'));
		ReactDOM.render(React.createElement(_ReactInput,{obj:cube,params:'position.z'}), document.getElementById('posz'));





		var App = React.createClass({
		  render: function() {
			return React.createElement(MyLabel, {label: "Position.x"},
			  React.createElement("div", {},
			  React.createElement(_ReactInput,{obj:cube,params:'position.x'})

				//React.createElement("input", {type: "text", value: "And here is a child"})
			  )
			);
		  }
		});


		ReactDOM.render(React.createElement(App,{obj:cube,params:'position.z'}), document.getElementById('props'));





		/*
		$('#obj_position_x').change(function(e) {
			// Code in here will run when the baseSize input is changed
			// Note that this must be inside your jQuery ready/onload function.
			// Note that this will **not** work with dynamically added elements
			console.log(e);
			console.log(e.target.value);
			console.log("change?");
		});

		var Hello = React.createClass({
  			displayName: 'Hello',
  			render: function() {
    			//return React.createElement("div", null, "Hello ", this.props.name);
				return React.createElement("div", null, "Hello ", this.props.name);
  			}
		});

		ReactDOM.render(
			React.createElement(Hello, {name: "World"}),
			document.getElementById('objectprops')
		);
		*/

		//ReactDOM.render(
  			//React.createElement('h1', null, 'Hello, world!'),
  			//document.getElementById('objectprops')
		//);


		/*
		for(var i = 0;i < 10;i++){
			var node = document.createElement("input");
			node.setAttribute("id", ""+i);
			node.addEventListener("keypress", function(evt) {
				console.log(evt.target.value);
				console.log(evt.code);
				if((evt.code == 'Enter')||(evt.code == 'NumpadEnter')){
					console.log('press...');
					//_.set(args['obj'], args['param'], evt.target.value);
				}
			});

			document.getElementById("myList").appendChild(node);
		}
		*/

		/*
		$('#obj_position_x').observe('change', function(e) {
			// Code in here will run when the baseSize input is changed
			// Note that this must be inside your jQuery ready/onload function.
			// Note that this will **not** work with dynamically added elements
			console.log("change?");
		});
		*/

		</script>

	</body>
</html>
